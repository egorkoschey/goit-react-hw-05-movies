{"version":3,"file":"static/js/MovieDetailsView.d465f73a.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/Components/Title/title.module.css?496c","Components/Title/Title.js","api/constants.js","api/helpers.js","api/api.js","webpack://react-homework-template/./src/Components/MovieDetails/movieDetails.module.css?8c71","Components/MovieDetails/MovieDetails.js","routes/moreInfoRoutes.js","Components/MoreInfo/MoreInfo.js","webpack://react-homework-template/./src/Components/GoBackButton/goBackButtton.module.css?17a8","Components/GoBackButton/GoBackButton.js","views/movieDetails/MovieDetailsView.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"title_title__i5H8-\"};","import { PropTypes } from 'prop-types';\nimport React from 'react';\nimport styles from './title.module.css';\n\nconst Title = ({ title }) => {\n  return <h2 className={styles.title}>{title}</h2>;\n};\n\nTitle.propTypes = {\n  title: PropTypes.string.isRequired,\n};\n\nexport default Title;","export const BASE_URL = 'https://api.themoviedb.org/3';\nexport const API_KEY = '69ec84cfd3d16e3fd5d2c92a4c37bd55';\n","export const getListData = res => res.data.results.map(({ title, id }) => ({ title, id }));\n","import axios from 'axios';\nimport { API_KEY, BASE_URL } from './constants';\nimport { getListData } from './helpers';\n\nconst _axios = axios.create({ baseURL: BASE_URL });\n\nexport const getTrending = () =>\n  _axios.get(`/trending/movie/week?api_key=${API_KEY}&limit=20`).then(getListData);\n\nexport const getMoviesByQuery = query =>\n  _axios.get(`/search/movie?api_key=${API_KEY}&limit=20&query=${query}`).then(getListData);\n\nexport const getMovieDetails = id =>\n  _axios\n    .get(`/movie/${id}?api_key=${API_KEY}`)\n    .then(res => res.data)\n    .then(({ title, poster_path, vote_average, overview, genres }) => ({\n      title,\n      poster_path,\n      vote_average,\n      overview,\n      genres,\n    }));\n\nexport const getCastInfo = id =>\n  _axios.get(`/movie/${id}/credits?api_key=${API_KEY}`).then(res =>\n    res.data.cast.map(({ id, profile_path, original_name, character }) => ({\n      id,\n      profile_path,\n      original_name,\n      character,\n    })),\n  );\n\nexport const getReviewsInfo = id =>\n  _axios\n    .get(`movie/${id}/reviews?api_key=${API_KEY}`)\n    .then(res => res.data.results.map(({ id, author, content }) => ({ id, author, content })));\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"movieDetails_section__k7aWg\",\"image\":\"movieDetails_image__1ZLT0\",\"desc\":\"movieDetails_desc__X-Ckh\",\"genresList\":\"movieDetails_genresList__0q4Ug\",\"genresItem\":\"movieDetails_genresItem__6Bp8W\"};","import React from 'react';\nimport Title from '../Title';\nimport { PropTypes } from 'prop-types';\nimport styles from './movieDetails.module.css';\n\nconst MovieDetails = ({ movie }) => {\n  const { title, poster_path, vote_average, overview, genres } = movie;\n\n  return (\n    <section className={styles.section}>\n      <img\n        className={styles.image}\n        src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n        alt=\"poster\"\n      />\n      <div className={styles.desc}>\n        <Title title={title} />\n        <p>User score: {vote_average}</p>\n        <h3>Overview</h3>\n        <p>{overview}</p>\n        <h3>Genres</h3>\n        <ul className={styles.genresList}>\n          {genres.map(({ id, name }) => (\n            <li key={id} className={styles.genresItem}>\n              {name}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </section>\n  );\n};\n\nMovieDetails.propTypes = {\n  movie: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    poster_path: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n    overview: PropTypes.string.isRequired,\n    genres: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        name: PropTypes.string.isRequired,\n      }),\n    ),\n  }),\n};\n\nexport default MovieDetails;","import { lazy } from 'react';\n\nconst CastView = lazy(() =>\n  import('../views/movieDetails/CastView' /* webpackChunkName: \"CastView\" */),\n);\nconst ReviewView = lazy(() =>\n  import('../views/movieDetails/ReviewView' /* webpackChunkName: \"ReviewView\" */),\n);\n\nconst moreInfoRoutes = [\n  { path: `cast`, name: 'Cast', component: CastView },\n  { path: `reviews`, name: 'Reviews', component: ReviewView },\n];\n\nexport default moreInfoRoutes;\n","import React from 'react';\nimport Navigation from '../Navigation';\nimport moreInfoRoutes from '../../routes/moreInfoRoutes';\nimport { Route, Routes, useParams } from 'react-router-dom';\n\nconst MoreInfo = () => {\n  const { movieId } = useParams();\n\n  return (\n    <>\n      <Navigation\n        routes={moreInfoRoutes.map(({ path, name }) => ({\n          path: `/movies/${movieId}/${path}`,\n          name,\n        }))}\n      />\n\n      <Routes>\n        {moreInfoRoutes.map(({ path, component: Element }) => (\n          <Route key={path} path={path} element={<Element />} />\n        ))}\n      </Routes>\n    </>\n  );\n};\n\nexport default MoreInfo;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"goBackButtton_button__Ec7UA\"};","import React, { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { QueryContext } from '../App';\nimport styles from './goBackButtton.module.css';\n\nconst GoBackButton = () => {\n  const navigate = useNavigate();\n  const { query } = useContext(QueryContext);\n\n  const goBack = () => (query ? navigate('/movies') : navigate('/'));\n\n  return (\n    <button className={styles.button} type=\"button\" onClick={goBack}>\n      Go back\n    </button>\n  );\n};\n\nexport default GoBackButton;\n","import { Notify } from 'notiflix';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getMovieDetails } from '../../api/api';\nimport MovieDetails from '../../Components/MovieDetails';\nimport MoreInfo from '../../Components/MoreInfo';\nimport GoBackButton from '../../Components/GoBackButton/GoBackButton';\n\nconst MovieDetailsView = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n\n  useEffect(() => {\n    let cancelled = false;\n    getMovieDetails(movieId)\n      .then(data => !cancelled && setMovie(data))\n      .catch(() => Notify.failure('Something went wrong!'));\n\n    return () => {\n      cancelled = true;\n    };\n  }, [movieId]);\n\n  return (\n    <>\n      <GoBackButton />\n      {movie && <MovieDetails movie={movie} />}\n      <MoreInfo movieId={movieId} />\n    </>\n  );\n};\n\nexport default MovieDetailsView;\n"],"names":["_ref","title","_jsx","className","styles","children","API_KEY","getListData","res","data","results","map","id","_axios","axios","create","baseURL","getTrending","get","concat","then","getMoviesByQuery","query","getMovieDetails","poster_path","vote_average","overview","genres","getCastInfo","cast","_ref2","profile_path","original_name","character","getReviewsInfo","_ref3","author","content","movie","_jsxs","src","alt","Title","name","path","component","lazy","movieId","useParams","_Fragment","Navigation","routes","moreInfoRoutes","Routes","Element","Route","element","navigate","useNavigate","useContext","QueryContext","type","onClick","_useState","useState","_useState2","_slicedToArray","setMovie","useEffect","cancelled","catch","Notify","failure","GoBackButton","MovieDetails","MoreInfo"],"sourceRoot":""}